@using ShopAdmin.Common
@using ShopAdmin.Dto.Categories
@using ShopAdmin.Dto.Products

@model CategoryProductDto

<section class="products" data-id="@Model.Id">
    <div class="container">
        <div class="products-header">
            <h2 class="section-title">@Model.Name</h2>
            <div class="filters">
                <select id="sortSelect" class="sort-select">
                    <option value="newest">Mới nhất</option>
                    <option value="price-low">Giá thấp đến cao</option>
                    <option value="price-high">Giá cao đến thấp</option>
                    @* <option value="rating">Đánh giá cao nhất</option> *@
                </select>
            </div>
        </div>

        @if (!Model.Products.Any())
        {
            <div>
                <span>Không tìm thấy sản phẩm nào thuộc danh mục này</span>
            </div>
        }
        else
        {
            <div class="products-grid" id="productsGrid">

                @foreach (var product in Model.Products)
                {
                    <div class="product-card fade-in" data-product="@product.Id" data-name="@product.Name">
                        <div style="position: relative;">
                            <img src="@(product.ImageUrl.FirstOrDefault())" alt="@product.Name" class="product-image">
                            @* <div class="product-badge badge-sale">SALE</div> *@
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">@product.Name</h3>
                            <div class="product-price">
                                <span class="current-price">@(product.Price)&nbsp;₫</span>

                            </div>
                            @* <div class="product-rating">
                    <span class="stars">★★★★☆</span>
                    <span class="rating-text">(203 đánh giá)</span>
                    </div> *@
                            @*  <button class="add-to-cart-btn">Thêm vào giỏ</button> *@
                        </div>
                    </div>
                }
            </div>
        }
        
    </div>
</section>

@section scripts {
    <script src="/js/Shop/category.js"></script>
}